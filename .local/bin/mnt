#!/bin/sh

MOUNTPOINT="/run/media/$USER"
sudo mkdir -pv "$MOUNTPOINT"
sudo chown "$USER:$USER" "$MOUNTPOINT"

case "$1" in

	*:|*:/*)
		path="$MOUNTPOINT/${1%%:*}"
		[ -d "$path" ] &&
			{ echo "mnt: already mounted: $path"; exit 1; }
		mkdir -pv "$path"
		sshfs "$1" "$path"
		;;

	*)
		udisksctl mount -b "$1"
		;;

esac
