#!/bin/sh

sleep 0.5
xdotool key --clearmodifiers ctrl+a ctrl+c
content="$(xclip -o -sel clipboard)"

TEMPFILE=/tmp/scratch-buffer.tmp
echo "$content" > "$TEMPFILE"
alacritty --class=floating_buffer -e nvim "$TEMPFILE"

cat "$TEMPFILE" | xclip -sel clipboard
xdotool key --clearmodifiers ctrl+a ctrl+v
